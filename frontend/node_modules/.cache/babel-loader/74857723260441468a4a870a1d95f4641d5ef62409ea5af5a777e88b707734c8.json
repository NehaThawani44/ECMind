{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PdfList(){const[pdfs,setPdfs]=useState([]);// Fetch PDFs on mount\nuseEffect(()=>{fetchPdfs();},[]);const fetchPdfs=()=>{axios.get('http://localhost:8080/api/pdfs').then(response=>{setPdfs(response.data);}).catch(error=>{console.error('Error fetching PDFs:',error);});};// Upload a new PDF\nconst handleFileChange=e=>{const file=e.target.files[0];if(!file)return;const formData=new FormData();formData.append('file',file);axios.post('http://localhost:8080/api/pdfs/upload',formData).then(()=>{console.log('File uploaded successfully.');// Re-fetch the PDFs to see the newly uploaded file\nfetchPdfs();}).catch(err=>{console.error('Error uploading file:',err);});};const openFileDialog=()=>{document.getElementById('pdfFileInput').click();};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Uploaded PDFs\"}),/*#__PURE__*/_jsx(\"button\",{onClick:openFileDialog,children:\"Add New File\"}),/*#__PURE__*/_jsx(\"input\",{id:\"pdfFileInput\",type:\"file\",style:{display:'none'},onChange:handleFileChange}),/*#__PURE__*/_jsx(\"ul\",{style:{marginTop:'1rem'},children:pdfs.length===0?/*#__PURE__*/_jsx(\"li\",{children:\"No PDFs uploaded yet.\"}):pdfs.map(pdf=>/*#__PURE__*/_jsx(\"li\",{style:{marginBottom:'0.5rem'},children:/*#__PURE__*/_jsx(Link,{to:`/pdf/${pdf.id}`,children:pdf.name||pdf.fileName})},pdf.id))})]});}export default PdfList;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","PdfList","pdfs","setPdfs","fetchPdfs","get","then","response","data","catch","error","console","handleFileChange","e","file","target","files","formData","FormData","append","post","log","err","openFileDialog","document","getElementById","click","style","padding","children","onClick","id","type","display","onChange","marginTop","length","map","pdf","marginBottom","to","name","fileName"],"sources":["/Users/nehathawani/Downloads/management/frontend/src/components/PdfManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nfunction PdfList() {\n  const [pdfs, setPdfs] = useState([]);\n\n  // Fetch PDFs on mount\n  useEffect(() => {\n    fetchPdfs();\n  }, []);\n\n  const fetchPdfs = () => {\n    axios.get('http://localhost:8080/api/pdfs')\n      .then(response => {\n        setPdfs(response.data);\n      })\n      .catch(error => {\n        console.error('Error fetching PDFs:', error);\n      });\n  };\n\n  // Upload a new PDF\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    axios.post('http://localhost:8080/api/pdfs/upload', formData)\n      .then(() => {\n        console.log('File uploaded successfully.');\n        // Re-fetch the PDFs to see the newly uploaded file\n        fetchPdfs();\n      })\n      .catch(err => {\n        console.error('Error uploading file:', err);\n      });\n  };\n\n  const openFileDialog = () => {\n    document.getElementById('pdfFileInput').click();\n  };\n\n  return (\n    <div style={{ padding: '1rem' }}>\n      <h1>Uploaded PDFs</h1>\n\n      <button onClick={openFileDialog}>Add New File</button>\n      <input\n        id=\"pdfFileInput\"\n        type=\"file\"\n        style={{ display: 'none' }}\n        onChange={handleFileChange}\n      />\n\n      <ul style={{ marginTop: '1rem' }}>\n        {pdfs.length === 0 ? (\n          <li>No PDFs uploaded yet.</li>\n        ) : (\n          pdfs.map((pdf) => (\n            <li key={pdf.id} style={{ marginBottom: '0.5rem' }}>\n              {/* \n                1) Display the PDF name (adjust the property if your backend returns \"filename\" instead of \"name\")\n                2) Make it clickable via a <Link> to /pdf/:id\n              */}\n              <Link to={`/pdf/${pdf.id}`}>\n                {pdf.name || pdf.fileName}\n              </Link>\n            </li>\n          ))\n        )}\n      </ul>\n    </div>\n  );\n}\n\nexport default PdfList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEpC;AACAC,SAAS,CAAC,IAAM,CACdU,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,SAAS,CAAGA,CAAA,GAAM,CACtBT,KAAK,CAACU,GAAG,CAAC,gCAAgC,CAAC,CACxCC,IAAI,CAACC,QAAQ,EAAI,CAChBJ,OAAO,CAACI,QAAQ,CAACC,IAAI,CAAC,CACxB,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CACN,CAAC,CAED;AACA,KAAM,CAAAE,gBAAgB,CAAIC,CAAC,EAAK,CAC9B,KAAM,CAAAC,IAAI,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAC9B,GAAI,CAACF,IAAI,CAAE,OAEX,KAAM,CAAAG,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEL,IAAI,CAAC,CAE7BnB,KAAK,CAACyB,IAAI,CAAC,uCAAuC,CAAEH,QAAQ,CAAC,CAC1DX,IAAI,CAAC,IAAM,CACVK,OAAO,CAACU,GAAG,CAAC,6BAA6B,CAAC,CAC1C;AACAjB,SAAS,CAAC,CAAC,CACb,CAAC,CAAC,CACDK,KAAK,CAACa,GAAG,EAAI,CACZX,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEY,GAAG,CAAC,CAC7C,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3BC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAACC,KAAK,CAAC,CAAC,CACjD,CAAC,CAED,mBACE1B,KAAA,QAAK2B,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAC,QAAA,eAC9B/B,IAAA,OAAA+B,QAAA,CAAI,eAAa,CAAI,CAAC,cAEtB/B,IAAA,WAAQgC,OAAO,CAAEP,cAAe,CAAAM,QAAA,CAAC,cAAY,CAAQ,CAAC,cACtD/B,IAAA,UACEiC,EAAE,CAAC,cAAc,CACjBC,IAAI,CAAC,MAAM,CACXL,KAAK,CAAE,CAAEM,OAAO,CAAE,MAAO,CAAE,CAC3BC,QAAQ,CAAEtB,gBAAiB,CAC5B,CAAC,cAEFd,IAAA,OAAI6B,KAAK,CAAE,CAAEQ,SAAS,CAAE,MAAO,CAAE,CAAAN,QAAA,CAC9B3B,IAAI,CAACkC,MAAM,GAAK,CAAC,cAChBtC,IAAA,OAAA+B,QAAA,CAAI,uBAAqB,CAAI,CAAC,CAE9B3B,IAAI,CAACmC,GAAG,CAAEC,GAAG,eACXxC,IAAA,OAAiB6B,KAAK,CAAE,CAAEY,YAAY,CAAE,QAAS,CAAE,CAAAV,QAAA,cAKjD/B,IAAA,CAACF,IAAI,EAAC4C,EAAE,CAAE,QAAQF,GAAG,CAACP,EAAE,EAAG,CAAAF,QAAA,CACxBS,GAAG,CAACG,IAAI,EAAIH,GAAG,CAACI,QAAQ,CACrB,CAAC,EAPAJ,GAAG,CAACP,EAQT,CACL,CACF,CACC,CAAC,EACF,CAAC,CAEV,CAEA,cAAe,CAAA9B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}