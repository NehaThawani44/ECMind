{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PdfManager(){const navigate=useNavigate();const[pdfs,setPdfs]=useState([]);const[selectedPdf,setSelectedPdf]=useState(null);const[stampDate,setStampDate]=useState('');const[stampName,setStampName]=useState('');const[stampComment,setStampComment]=useState('');// Navigate back to the home page\nconst goBack=()=>{navigate('/');};// Fetch PDF list from the backend on component mount\nuseEffect(()=>{axios.get('http://localhost:8080/api/pdfs').then(response=>{setPdfs(response.data);}).catch(error=>{console.error('Error fetching PDFs:',error);});},[]);// Handle selecting a PDF for stamping\nconst handleSelectPdf=pdf=>{setSelectedPdf(pdf);// Reset the stamp fields\nsetStampDate('');setStampName('');setStampComment('');};// Handle the stamp submit which calls the backend endpoint\nconst handleStampSubmit=()=>{if(!selectedPdf)return;// Make the POST call to the endpoint /api/pdfs/{id}/stamp\naxios.post(`http://localhost:8080/api/pdfs/${selectedPdf.id}/stamp`,{date:stampDate,name:stampName,comment:stampComment},{headers:{'Content-Type':'application/json'}}).then(response=>{console.log('Stamp applied:',response.data);// Optionally, refresh the PDF list or update the UI as needed.\nsetSelectedPdf(null);setStampDate('');setStampName('');setStampComment('');}).catch(error=>{console.error('Error stamping PDF:',error);});};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"PDF Manager\"}),/*#__PURE__*/_jsx(\"button\",{onClick:goBack,children:\"Go Back\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Uploaded PDFs\"}),/*#__PURE__*/_jsx(\"ul\",{children:pdfs.length===0?/*#__PURE__*/_jsx(\"li\",{children:\"No PDFs uploaded yet.\"}):pdfs.map(pdf=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:'0.5rem'},children:[pdf.name,/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'1rem'},onClick:()=>handleSelectPdf(pdf),children:\"Stamp PDF\"})]},pdf.id))}),selectedPdf&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'2rem',padding:'1rem',border:'1px solid #ccc'},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Stamp PDF: \",selectedPdf.name]}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1rem'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Date:\\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:stampDate,onChange:e=>setStampDate(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1rem'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:stampName,onChange:e=>setStampName(e.target.value),placeholder:\"John Doe\"})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1rem'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Comment:\\xA0\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:stampComment,onChange:e=>setStampComment(e.target.value),placeholder:\"Approved\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStampSubmit,children:\"Apply Stamp\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedPdf(null),style:{marginLeft:'0.5rem'},children:\"Cancel\"})]})]});}export default PdfManager;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","PdfManager","navigate","pdfs","setPdfs","selectedPdf","setSelectedPdf","stampDate","setStampDate","stampName","setStampName","stampComment","setStampComment","goBack","get","then","response","data","catch","error","console","handleSelectPdf","pdf","handleStampSubmit","post","id","date","name","comment","headers","log","style","padding","children","onClick","length","map","marginBottom","marginLeft","marginTop","border","type","value","onChange","e","target","placeholder"],"sources":["/Users/nehathawani/Downloads/management/frontend/src/components/PdfManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nfunction PdfManager() {\n  const navigate = useNavigate();\n  const [pdfs, setPdfs] = useState([]);\n  const [selectedPdf, setSelectedPdf] = useState(null);\n  const [stampDate, setStampDate] = useState('');\n  const [stampName, setStampName] = useState('');\n  const [stampComment, setStampComment] = useState('');\n\n  // Navigate back to the home page\n  const goBack = () => {\n    navigate('/');\n  };\n\n  // Fetch PDF list from the backend on component mount\n  useEffect(() => {\n    axios.get('http://localhost:8080/api/pdfs')\n      .then(response => {\n        setPdfs(response.data);\n      })\n      .catch(error => {\n        console.error('Error fetching PDFs:', error);\n      });\n  }, []);\n\n  // Handle selecting a PDF for stamping\n  const handleSelectPdf = (pdf) => {\n    setSelectedPdf(pdf);\n    // Reset the stamp fields\n    setStampDate('');\n    setStampName('');\n    setStampComment('');\n  };\n\n  // Handle the stamp submit which calls the backend endpoint\n  const handleStampSubmit = () => {\n    if (!selectedPdf) return;\n\n    // Make the POST call to the endpoint /api/pdfs/{id}/stamp\n    axios.post(`http://localhost:8080/api/pdfs/${selectedPdf.id}/stamp`, {\n      date: stampDate,\n      name: stampName,\n      comment: stampComment,\n    }, {\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    })\n      .then(response => {\n        console.log('Stamp applied:', response.data);\n        // Optionally, refresh the PDF list or update the UI as needed.\n        setSelectedPdf(null);\n        setStampDate('');\n        setStampName('');\n        setStampComment('');\n      })\n      .catch(error => {\n        console.error('Error stamping PDF:', error);\n      });\n  };\n\n  return (\n    <div style={{ padding: '1rem' }}>\n      <h1>PDF Manager</h1>\n      <button onClick={goBack}>Go Back</button>\n\n      <h2>Uploaded PDFs</h2>\n      <ul>\n        {pdfs.length === 0 ? (\n          <li>No PDFs uploaded yet.</li>\n        ) : (\n          pdfs.map(pdf => (\n            <li key={pdf.id} style={{ marginBottom: '0.5rem' }}>\n              {pdf.name}\n              <button\n                style={{ marginLeft: '1rem' }}\n                onClick={() => handleSelectPdf(pdf)}\n              >\n                Stamp PDF\n              </button>\n            </li>\n          ))\n        )}\n      </ul>\n\n      {selectedPdf && (\n        <div style={{ marginTop: '2rem', padding: '1rem', border: '1px solid #ccc' }}>\n          <h2>Stamp PDF: {selectedPdf.name}</h2>\n          <div style={{ marginBottom: '1rem' }}>\n            <label>\n              Date:&nbsp;\n              <input\n                type=\"date\"\n                value={stampDate}\n                onChange={(e) => setStampDate(e.target.value)}\n              />\n            </label>\n          </div>\n          <div style={{ marginBottom: '1rem' }}>\n            <label>\n              Name:&nbsp;\n              <input\n                type=\"text\"\n                value={stampName}\n                onChange={(e) => setStampName(e.target.value)}\n                placeholder=\"John Doe\"\n              />\n            </label>\n          </div>\n          <div style={{ marginBottom: '1rem' }}>\n            <label>\n              Comment:&nbsp;\n              <input\n                type=\"text\"\n                value={stampComment}\n                onChange={(e) => setStampComment(e.target.value)}\n                placeholder=\"Approved\"\n              />\n            </label>\n          </div>\n          <button onClick={handleStampSubmit}>Apply Stamp</button>\n          <button\n            onClick={() => setSelectedPdf(null)}\n            style={{ marginLeft: '0.5rem' }}\n          >\n            Cancel\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default PdfManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}